"use strict";(self.webpackChunkcuba=self.webpackChunkcuba||[]).push([[892],{892:(de,f,c)=>{c.r(f),c.d(f,{EmpleadosModule:()=>ie});var g=c(6814),u=c(965),d=c(6223),b=c(4807),v=c(6208),m=c(9862),M=c(6505),A=c(1659),e=c(5879);let E=(()=>{class o{constructor(){this.numbers=[1,2,3,4,5]}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-table-components"]],decls:0,vars:0,template:function(n,r){}})}return o})();var Z=c(4469),C=c(5619),q=c(8645),N=c(2096),T=c(9397),J=c(3620),U=c(4664),w=c(5177),h=c(1486),y=c(4414);function Q(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"ngb-highlight",39),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"ngb-highlight",39),e.qZA(),e.TgZ(5,"td"),e._UZ(6,"ngb-highlight",39),e.qZA(),e.TgZ(7,"td"),e._UZ(8,"ngb-highlight",39),e.qZA(),e.TgZ(9,"td"),e._UZ(10,"ngb-highlight",39),e.qZA(),e.TgZ(11,"td"),e._UZ(12,"ngb-highlight",39),e.qZA(),e.TgZ(13,"td"),e._UZ(14,"ngb-highlight",39),e.qZA(),e.TgZ(15,"td")(16,"div",40)(17,"ul",7)(18,"li",41)(19,"a",42),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(),i=e.MAs(61);return e.KtG(l.Editar(i,s))}),e.TgZ(20,"span",10),e._UZ(21,"i",43),e.qZA()()(),e.TgZ(22,"li",44)(23,"a",42),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.withConfirmation(s))}),e.TgZ(24,"span",10),e._UZ(25,"i",45),e.qZA()()()()()()()}if(2&o){const t=a.$implicit,n=e.oxw();e.xp6(2),e.Q6J("result",t.nombre+" "+t.apellido)("term",n.searchTerm),e.xp6(2),e.Q6J("result",t.tipoDocumentoid.siglas)("term",n.searchTerm),e.xp6(2),e.Q6J("result",t.documento)("term",n.searchTerm),e.xp6(2),e.Q6J("result",t.numeroContacto)("term",n.searchTerm),e.xp6(2),e.Q6J("result",t.cargo)("term",n.searchTerm),e.xp6(2),e.Q6J("result",t.correo)("term",n.searchTerm),e.xp6(2),e.Q6J("result",t.estadoid.nombre)("term",n.searchTerm)}}function $(o,a){if(1&o&&(e.TgZ(0,"div",64),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.errorMessages.nombre," ")}}function k(o,a){if(1&o&&(e.TgZ(0,"div",64),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.errorMessages.apellido," ")}}function D(o,a){if(1&o&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.siglas)}}function F(o,a){if(1&o&&(e.TgZ(0,"div",64),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.errorMessages.documento," ")}}function K(o,a){if(1&o&&(e.TgZ(0,"div",64),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.errorMessages.fechaNacimiento," ")}}function O(o,a){if(1&o&&(e.TgZ(0,"div",64),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.errorMessages.correo," ")}}function S(o,a){if(1&o&&(e.TgZ(0,"div",64),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.errorMessages.numeroContacto," ")}}function j(o,a){if(1&o&&(e.TgZ(0,"div",64),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.errorMessages.cargo," ")}}const x=function(o){return{"was-validated":o}},p=function(o){return{"is-invalid":o}};function G(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",46)(1,"h4",47),e._uU(2,"Registrar facilitador"),e.qZA(),e.TgZ(3,"button",48),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",49)(5,"div",4)(6,"div",50)(7,"form",51)(8,"div",52)(9,"div",53)(10,"label",54),e._uU(11,"Nombre"),e.TgZ(12,"span",55),e._uU(13,"*"),e.qZA()(),e.TgZ(14,"input",56),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.newEmpleado.nombre=r)}),e.qZA(),e.YNc(15,$,2,1,"div",57),e.qZA(),e.TgZ(16,"div",53)(17,"label",58),e._uU(18,"Apellido"),e.TgZ(19,"span",55),e._uU(20,"*"),e.qZA()(),e.TgZ(21,"input",59),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.newEmpleado.apellido=r)}),e.qZA(),e.YNc(22,k,2,1,"div",57),e.qZA()(),e.TgZ(23,"div",52)(24,"div",53)(25,"label",60),e._uU(26,"Tipo de Documento"),e.TgZ(27,"span",55),e._uU(28,"*"),e.qZA()(),e.TgZ(29,"select",61),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.newEmpleado.tipoDocumentoid=r)}),e.TgZ(30,"option",62),e._uU(31,"Escoge una opci\xf3n"),e.qZA(),e.YNc(32,D,2,2,"option",63),e.qZA(),e.TgZ(33,"div",64),e._uU(34,"Por favor, selecciona un Tipo de documento v\xe1lido."),e.qZA()(),e.TgZ(35,"div",53)(36,"label",65),e._uU(37,"Documento"),e.TgZ(38,"span",55),e._uU(39,"*"),e.qZA()(),e.TgZ(40,"input",66),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.newEmpleado.documento=r)}),e.qZA(),e.YNc(41,F,2,1,"div",57),e.qZA(),e.TgZ(42,"div",53)(43,"label",67),e._uU(44,"Fecha de Nacimiento"),e.TgZ(45,"span",55),e._uU(46,"*"),e.qZA()(),e.TgZ(47,"input",68),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.newEmpleado.fechaNacimiento=r)}),e.qZA(),e.YNc(48,K,2,1,"div",57),e.qZA(),e.TgZ(49,"div",53)(50,"label",69),e._uU(51,"Correo"),e.TgZ(52,"span",55),e._uU(53,"*"),e.qZA()(),e.TgZ(54,"input",70),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.newEmpleado.correo=r)}),e.qZA(),e.YNc(55,O,2,1,"div",57),e.qZA()(),e.TgZ(56,"div",52)(57,"div",53)(58,"label",71),e._uU(59,"N\xfamero de contacto"),e.TgZ(60,"span",55),e._uU(61,"*"),e.qZA()(),e.TgZ(62,"input",72),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.newEmpleado.numeroContacto=r)}),e.qZA(),e.YNc(63,S,2,1,"div",57),e.qZA(),e.TgZ(64,"div",53)(65,"label",73),e._uU(66,"Cargo"),e.TgZ(67,"span",55),e._uU(68,"*"),e.qZA()(),e.TgZ(69,"input",74),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.newEmpleado.cargo=r)}),e.qZA(),e.YNc(70,j,2,1,"div",57),e.qZA()()()()(),e.TgZ(71,"div",75)(72,"button",76),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("cancel"))}),e._uU(73,"Cancelar"),e.qZA(),e.TgZ(74,"button",77),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.createEmpleado(s))}),e._uU(75,"Guardar"),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(7),e.Q6J("ngClass",e.VKq(23,x,t.validate)),e.xp6(7),e.Q6J("ngModel",t.newEmpleado.nombre)("ngClass",e.VKq(25,p,null==t.errorMessages?null:t.errorMessages.nombre)),e.xp6(1),e.Q6J("ngIf",null==t.errorMessages?null:t.errorMessages.nombre),e.xp6(6),e.Q6J("ngModel",t.newEmpleado.apellido)("ngClass",e.VKq(27,p,null==t.errorMessages?null:t.errorMessages.apellido)),e.xp6(1),e.Q6J("ngIf",null==t.errorMessages?null:t.errorMessages.apellido),e.xp6(7),e.Q6J("ngModel",t.newEmpleado.tipoDocumentoid),e.xp6(3),e.Q6J("ngForOf",t.tiposDocumentos),e.xp6(8),e.Q6J("ngModel",t.newEmpleado.documento)("ngClass",e.VKq(29,p,null==t.errorMessages?null:t.errorMessages.documento)),e.xp6(1),e.Q6J("ngIf",null==t.errorMessages?null:t.errorMessages.documento),e.xp6(6),e.Q6J("ngModel",t.newEmpleado.fechaNacimiento)("ngClass",e.VKq(31,p,null==t.errorMessages?null:t.errorMessages.fechaNacimiento)),e.xp6(1),e.Q6J("ngIf",null==t.errorMessages?null:t.errorMessages.fechaNacimiento),e.xp6(6),e.Q6J("ngModel",t.newEmpleado.correo),e.xp6(1),e.Q6J("ngIf",null==t.errorMessages?null:t.errorMessages.correo),e.xp6(7),e.Q6J("ngModel",t.newEmpleado.numeroContacto)("ngClass",e.VKq(33,p,null==t.errorMessages?null:t.errorMessages.numeroContacto)),e.xp6(1),e.Q6J("ngIf",null==t.errorMessages?null:t.errorMessages.numeroContacto),e.xp6(6),e.Q6J("ngModel",t.newEmpleado.cargo)("ngClass",e.VKq(35,p,null==t.errorMessages?null:t.errorMessages.cargo)),e.xp6(1),e.Q6J("ngIf",null==t.errorMessages?null:t.errorMessages.cargo)}}function V(o,a){if(1&o&&(e.TgZ(0,"div",64),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.errorMessages.nombre," ")}}function H(o,a){if(1&o&&(e.TgZ(0,"div",64),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.errorMessages.apellido," ")}}function I(o,a){if(1&o&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.Oqu(t.siglas)}}function P(o,a){if(1&o&&(e.TgZ(0,"div",64),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.errorMessages.documento," ")}}function z(o,a){if(1&o&&(e.TgZ(0,"div",64),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.errorMessages.fechaNacimiento," ")}}function Y(o,a){if(1&o&&(e.TgZ(0,"div",64),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.errorMessages.correo," ")}}function B(o,a){if(1&o&&(e.TgZ(0,"div",64),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.errorMessages.numeroContacto," ")}}function L(o,a){if(1&o&&(e.TgZ(0,"div",64),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.errorMessages.cargo," ")}}function W(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",46)(1,"h4",47),e._uU(2,"Editar facilitador"),e.qZA(),e.TgZ(3,"button",48),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",49)(5,"div",4)(6,"div",50)(7,"form",51)(8,"div",52)(9,"div",53)(10,"label",78),e._uU(11,"Nombre"),e.TgZ(12,"span",55),e._uU(13,"*"),e.qZA()(),e.TgZ(14,"input",79),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedEmpleado.nombre=r)}),e.qZA(),e.YNc(15,V,2,1,"div",57),e.qZA(),e.TgZ(16,"div",53)(17,"label",80),e._uU(18,"Apellido"),e.TgZ(19,"span",55),e._uU(20,"*"),e.qZA()(),e.TgZ(21,"input",81),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedEmpleado.apellido=r)}),e.qZA(),e.YNc(22,H,2,1,"div",57),e.qZA()(),e.TgZ(23,"div",52)(24,"div",53)(25,"label",82),e._uU(26,"Tipo de Documento"),e.TgZ(27,"span",55),e._uU(28,"*"),e.qZA()(),e.TgZ(29,"select",83),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedEmpleado.tipoDocumentoid.id=r)}),e.TgZ(30,"option",84),e._uU(31,"Escoge una opci\xf3n"),e.qZA(),e.YNc(32,I,2,2,"option",63),e.qZA(),e.TgZ(33,"div",64),e._uU(34,"Por favor, selecciona un Tipo de documento v\xe1lido."),e.qZA()(),e.TgZ(35,"div",53)(36,"label",85),e._uU(37,"Documento"),e.TgZ(38,"span",55),e._uU(39,"*"),e.qZA()(),e.TgZ(40,"input",86),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedEmpleado.documento=r)}),e.qZA(),e.YNc(41,P,2,1,"div",57),e.qZA(),e.TgZ(42,"div",53)(43,"label",87),e._uU(44,"Fecha de Nacimiento"),e.TgZ(45,"span",55),e._uU(46,"*"),e.qZA()(),e.TgZ(47,"input",88),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedEmpleado.fechaNacimiento=r)}),e.qZA(),e.YNc(48,z,2,1,"div",57),e.qZA(),e.TgZ(49,"div",53)(50,"label",89),e._uU(51,"Correo"),e.TgZ(52,"span",55),e._uU(53,"*"),e.qZA()(),e.TgZ(54,"input",90),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedEmpleado.correo=r)}),e.qZA(),e.YNc(55,Y,2,1,"div",57),e.qZA()(),e.TgZ(56,"div",52)(57,"div",53)(58,"label",91),e._uU(59,"N\xfamero de contacto"),e.TgZ(60,"span",55),e._uU(61,"*"),e.qZA()(),e.TgZ(62,"input",92),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedEmpleado.numeroContacto=r)}),e.qZA(),e.YNc(63,B,2,1,"div",57),e.qZA(),e.TgZ(64,"div",53)(65,"label",93),e._uU(66,"Cargo"),e.TgZ(67,"span",55),e._uU(68,"*"),e.qZA()(),e.TgZ(69,"input",94),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedEmpleado.cargo=r)}),e.qZA(),e.YNc(70,L,2,1,"div",57),e.qZA()()()()(),e.TgZ(71,"div",75)(72,"button",76),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("cancel"))}),e._uU(73,"Cancelar"),e.qZA(),e.TgZ(74,"button",77),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.editEmpleado(s))}),e._uU(75,"Actualizar"),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(7),e.Q6J("ngClass",e.VKq(24,x,t.validate)),e.xp6(7),e.Q6J("ngModel",t.selectedEmpleado.nombre)("ngClass",e.VKq(26,p,null==t.errorMessages?null:t.errorMessages.nombre)),e.xp6(1),e.Q6J("ngIf",null==t.errorMessages?null:t.errorMessages.nombre),e.xp6(6),e.Q6J("ngModel",t.selectedEmpleado.apellido)("ngClass",e.VKq(28,p,null==t.errorMessages?null:t.errorMessages.apellido)),e.xp6(1),e.Q6J("ngIf",null==t.errorMessages?null:t.errorMessages.apellido),e.xp6(7),e.Q6J("ngModel",t.selectedEmpleado.tipoDocumentoid.id)("ngClass",e.VKq(30,p,null==t.errorMessages?null:t.errorMessages.tipoDocumentoid)),e.xp6(3),e.Q6J("ngForOf",t.tiposDocumentos),e.xp6(8),e.Q6J("ngModel",t.selectedEmpleado.documento)("ngClass",e.VKq(32,p,null==t.errorMessages?null:t.errorMessages.documento)),e.xp6(1),e.Q6J("ngIf",null==t.errorMessages?null:t.errorMessages.documento),e.xp6(6),e.Q6J("ngModel",t.selectedEmpleado.fechaNacimiento)("ngClass",e.VKq(34,p,null==t.errorMessages?null:t.errorMessages.fechaNacimiento)),e.xp6(1),e.Q6J("ngIf",null==t.errorMessages?null:t.errorMessages.fechaNacimiento),e.xp6(6),e.Q6J("ngModel",t.selectedEmpleado.correo),e.xp6(1),e.Q6J("ngIf",null==t.errorMessages?null:t.errorMessages.correo),e.xp6(7),e.Q6J("ngModel",t.selectedEmpleado.numeroContacto)("ngClass",e.VKq(36,p,null==t.errorMessages?null:t.errorMessages.numeroContacto)),e.xp6(1),e.Q6J("ngIf",null==t.errorMessages?null:t.errorMessages.numeroContacto),e.xp6(6),e.Q6J("ngModel",t.selectedEmpleado.cargo)("ngClass",e.VKq(38,p,null==t.errorMessages?null:t.errorMessages.cargo)),e.xp6(1),e.Q6J("ngIf",null==t.errorMessages?null:t.errorMessages.cargo)}}function X(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",46)(1,"h4",47),e._uU(2,"Confirmar eliminaci\xf3n"),e.qZA(),e.TgZ(3,"button",48),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",49)(5,"p"),e._uU(6,"\xbfEst\xe1s seguro de que deseas eliminar este empleado?"),e.qZA()(),e.TgZ(7,"div",75)(8,"button",76),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("cancel"))}),e._uU(9,"Cancelar"),e.qZA(),e.TgZ(10,"button",77),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.confirmDelete(s))}),e._uU(11,"Eliminar"),e.qZA()()}}const R=function(){return["Apps"]},_=c(3519);let ee=(()=>{class o{constructor(t,n,r,s){this.service=t,this.http=n,this.modalService=s,this.apiUrl="https://backend-do1k.onrender.com/empleados",this.token=localStorage.getItem("authToken"),this.errorMessages={},this.validate=!1,this.tooltipValidation=!1,this.estados=[],this.tiposDocumentos=[],this.newEmpleado={id:0,nombre:"",apellido:"",documento:null,fechaNacimiento:"",numeroContacto:"",cargo:"",correo:"",tipoDocumentoid:{id:1,siglas:"",descripcion:""},estadoid:{id:1,nombre:"Activo"}},this.selectedEmpleado={...this.newEmpleado},this.searchTerm="",this.tableItem$=t.tableItem$,this.total$=t.total$,r.backdrop="static",r.keyboard=!1}onSort({column:t,direction:n}){this.headers.forEach(r=>{r.sortable!==t&&(r.direction="")}),this.service.sortColumn=t,this.service.sortDirection=n}ngOnInit(){this.getEmpleados(),this.getEstados(),this.getTiposDocumentos(),this.service.searchTerm=this.searchTerm}getEstados(){const t=new m.WM({Authorization:`Bearer ${this.token}`});this.http.get("https://backend-do1k.onrender.com/estado",{headers:t}).subscribe(n=>{this.estados=n},n=>{console.error("Error fetching estados:",n)})}getTiposDocumentos(){const t=new m.WM({Authorization:`Bearer ${this.token}`});this.http.get("https://backend-do1k.onrender.com/tipodocumentos",{headers:t}).subscribe(n=>{this.tiposDocumentos=n},n=>{console.error("Error fetching tipos de documentos:",n)})}download(){const t=new m.WM({Authorization:`Bearer ${this.token}`});this.http.get(this.apiUrl,{headers:t}).subscribe(n=>{const r=h.P6.json_to_sheet(n),s=h.P6.book_new();h.P6.book_append_sheet(s,r,"Facilitadores"),h.NC(s,"Facilitadores.xlsx")},n=>{console.error("Error fetching Facilitadores:",n)})}getEmpleados(){const t=new m.WM({Authorization:`Bearer ${this.token}`});this.http.get(this.apiUrl,{headers:t}).subscribe(n=>{this.service.setUserData(n)},n=>{console.error("Error fetching Empleados:",n)})}createEmpleado(){this.validate=!this.validate,this.tooltipValidation=!this.tooltipValidation;const t=new m.WM({Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"});this.http.post(this.apiUrl,this.newEmpleado,{headers:t}).subscribe(()=>{this.validate=!1,this.tooltipValidation=!1,this.errorMessages="",_.fire({icon:"success",title:"\xa1Registro exitoso!",showConfirmButton:!1,timer:1500}),this.errorMessages="",this.getEmpleados(),this.modalService.dismissAll()},n=>{400===n.status&&n.error?this.errorMessages=n.error:console.error("Error editing empleados:",n)})}editEmpleado(){this.validate=!this.validate,this.tooltipValidation=!this.tooltipValidation;const t=new m.WM({Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"});this.http.put(`${this.apiUrl}/${this.selectedEmpleado.id}`,this.selectedEmpleado,{headers:t}).subscribe(()=>{this.validate=!1,this.tooltipValidation=!1,this.errorMessages="",_.fire({icon:"success",title:"Edici\xf3n exitosa",showConfirmButton:!1,timer:1500}),this.errorMessages="",this.getEmpleados(),this.modalService.dismissAll()},n=>{400===n.status&&n.error?this.errorMessages=n.error:console.error("Error editing empleados:",n)})}deleteData(t){const n=new m.WM({Authorization:`Bearer ${this.token}`});this.http.delete(`${this.apiUrl}/${t}`,{headers:n}).subscribe(()=>{this.getEmpleados()},r=>{console.error("Error deleting empresa:",r)})}onSearchTermChange(){this.service.searchTerm=this.searchTerm}submit(){this.validate=!this.validate}tooltipSubmit(){this.tooltipValidation=!this.tooltipValidation}Crear(t){this.newEmpleado={id:0,nombre:"",apellido:"",documento:null,fechaNacimiento:"",numeroContacto:"",cargo:"",correo:"",tipoDocumentoid:null,estadoid:{id:1,nombre:"Activo"}},this.modalService.open(t,{backdropClass:"light-blue-backdrop"})}Editar(t,n){this.selectedEmpleado={...n},this.modalService.open(t,{backdropClass:"light-blue-backdrop"})}withConfirmation(t){_.fire({title:"\xbfEst\xe1s seguro?",text:"\xa1No podr\xe1s revertir esto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, cambiar estado",cancelButtonText:"Cancelar"}).then(n=>{n.isConfirmed&&this.toggleEstado(t)})}toggleEstado(t){const n=1===t.estadoid.id?2:1,r=new m.WM({Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"});this.http.put(`${this.apiUrl}/${t.id}/estado`,n,{headers:r}).subscribe(()=>{t.estadoid.id=n,t.estadoid.nombre=1===n?"Activo":"Inactivo",_.fire("\xa1Estado actualizado!",`El L\xedder ahora est\xe1 en estado ${t.estadoid.nombre.toLowerCase()}.`,"success")},s=>{_.fire("Error","Hubo un problema al actualizar el estado. Por favor, intenta nuevamente.","error")})}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(re),e.Y36(m.eN),e.Y36(u.NM),e.Y36(u.FF))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-empleado"]],viewQuery:function(n,r){if(1&n&&e.Gf(Z.j,5),2&n){let s;e.iGM(s=e.CRH())&&(r.headers=s)}},decls:64,vars:17,consts:[[3,"title","items","active_item"],[1,"container-fluid"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"media-body","text-end"],[1,"action-icons"],[1,"download"],[1,"btn","btn-pill",3,"click"],[1,"icon-circle"],[1,"fa","fa-download"],[1,"card-body","custom-datatable","noscroll"],[1,"custom-datatable","table-responsive"],[1,"file-content"],[1,"card-header"],[1,"media"],["action","#","method","get",1,"form-inline"],[1,"form-group","mb-0","text-end"],[1,"fa","fa-search"],["type","text","placeholder","Buscar...",1,"form-control-plaintext",3,"ngModel","ngModelChange","input"],["type","button",1,"btn","btn-pill","btn-primary",3,"click"],[1,"table"],["scope","col","sortable","nombre",3,"sort"],["scope","col","sortable","tipoDocumentoid.nombre",3,"sort"],["scope","col","sortable","documento",3,"sort"],["scope","col","sortable","numero_contacto",3,"sort"],["scope","col","sortable","cargo",3,"sort"],["scope","col","sortable","correo",3,"sort"],["scope","col","sortable","estadoid.nombre",3,"sort"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","mt-3"],["name","pageSize",1,"form-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"ms-3",3,"collectionSize","page","pageSize","pageChange"],["createModal",""],["content1",""],["deleteModal",""],[3,"result","term"],[1,"action"],[1,"edit"],[3,"click"],[1,"fa","fa-pencil-square-o"],[1,"status"],[1,"icofont","icofont-retweet"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"card-body"],["novalidate","",1,"needs-validation",3,"ngClass"],[1,"row","g-3"],[1,"col-md-6"],["for","createNombre",1,"form-label"],[1,"red-asterisk"],["id","createNombre","type","text","placeholder","Nombre","name","nombre","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["class","invalid-feedback",4,"ngIf"],["for","createApellido",1,"form-label"],["id","createApellido","type","text","placeholder","Apellido","name","apellido","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["for","createTipoDocumento",1,"form-label"],["id","createTipoDocumento","name","tipoDocumentoid","required","",1,"form-select",3,"ngModel","ngModelChange"],["disabled","","value","","selected",""],[3,"ngValue",4,"ngFor","ngForOf"],[1,"invalid-feedback"],["for","createDocumento",1,"form-label"],["id","createDocumento","type","number","placeholder","Documento","name","documento","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["for","createFechaNacimiento",1,"form-label"],["id","createFechaNacimiento","type","date","placeholder","Fecha de Nacimiento","name","fecha_nacimiento","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["for","createCorreo",1,"form-label"],["id","createCorreo","type","email","placeholder","Correo","name","correo","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","createNumeroContacto",1,"form-label"],["id","createNumeroContacto","type","text","placeholder","N\xfamero de contacto","name","numero_contacto","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["for","createCargo",1,"form-label"],["id","createCargo","type","text","placeholder","Cargo","name","cargo","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["for","editNombre",1,"form-label"],["id","editNombre","type","text","placeholder","Nombre","name","nombre","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["for","editApellido",1,"form-label"],["id","editApellido","type","text","placeholder","Apellido","name","apellido","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["for","editTipoDocumento",1,"form-label"],["id","editTipoDocumento","name","rolid","required","",1,"form-select",3,"ngModel","ngClass","ngModelChange"],["selected","","disabled","","value",""],["for","editDocumento",1,"form-label"],["id","editDocumento","type","number","placeholder","Documento","name","documento","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["for","editFechaNacimiento",1,"form-label"],["id","editFechaNacimiento","type","date","placeholder","Fecha de Nacimiento","name","fecha_nacimiento","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["for","editCorreo",1,"form-label"],["id","editCorreo","type","email","placeholder","Correo","name","correo","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","editNumeroContacto",1,"form-label"],["id","editNumeroContacto","type","text","placeholder","N\xfamero de contacto","name","numero_contacto","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["for","editCargo",1,"form-label"],["id","editCargo","type","text","placeholder","Cargo","name","cargo","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"]],template:function(n,r){if(1&n){const s=e.EpF();e._UZ(0,"app-breadcrumb",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5"),e._uU(7,"Facilitadores"),e.qZA(),e.TgZ(8,"div",6)(9,"ul",7)(10,"li",8)(11,"a",9),e.NdJ("click",function(){return r.download()}),e.TgZ(12,"span",10),e._UZ(13,"i",11),e.qZA()()()()()(),e.TgZ(14,"div",12)(15,"div",13)(16,"div",14)(17,"div",15)(18,"div",16)(19,"form",17)(20,"div",18),e._UZ(21,"i",19),e.TgZ(22,"input",20),e.NdJ("ngModelChange",function(i){return r.searchTerm=i})("input",function(){return r.onSearchTermChange()}),e.qZA()()(),e.TgZ(23,"div",6)(24,"button",21),e.NdJ("click",function(){e.CHM(s);const i=e.MAs(59);return e.KtG(r.Crear(i))}),e._uU(25,"Registrar facilitador"),e.qZA()()()()(),e.TgZ(26,"table",22)(27,"thead")(28,"tr")(29,"th",23),e.NdJ("sort",function(i){return r.onSort(i)}),e._uU(30,"Nombre completo"),e.qZA(),e.TgZ(31,"th",24),e.NdJ("sort",function(i){return r.onSort(i)}),e._uU(32,"Tipo de Documento"),e.qZA(),e.TgZ(33,"th",25),e.NdJ("sort",function(i){return r.onSort(i)}),e._uU(34,"Documento"),e.qZA(),e.TgZ(35,"th",26),e.NdJ("sort",function(i){return r.onSort(i)}),e._uU(36,"N\xfamero de Contacto"),e.qZA(),e.TgZ(37,"th",27),e.NdJ("sort",function(i){return r.onSort(i)}),e._uU(38,"Cargo"),e.qZA(),e.TgZ(39,"th",28),e.NdJ("sort",function(i){return r.onSort(i)}),e._uU(40,"Correo"),e.qZA(),e.TgZ(41,"th",29),e.NdJ("sort",function(i){return r.onSort(i)}),e._uU(42,"Estado"),e.qZA(),e.TgZ(43,"th",30),e._uU(44,"Acciones"),e.qZA()()(),e.TgZ(45,"tbody"),e.YNc(46,Q,26,14,"tr",31),e.ALo(47,"async"),e.qZA()(),e.TgZ(48,"div",32)(49,"select",33),e.NdJ("ngModelChange",function(i){return r.service.pageSize=i}),e.TgZ(50,"option",34),e._uU(51,"2 items per page"),e.qZA(),e.TgZ(52,"option",34),e._uU(53,"4 items per page"),e.qZA(),e.TgZ(54,"option",34),e._uU(55,"6 items per page"),e.qZA()(),e.TgZ(56,"ngb-pagination",35),e.NdJ("pageChange",function(i){return r.service.page=i}),e.ALo(57,"async"),e.qZA()()()()()()()(),e.YNc(58,G,76,37,"ng-template",null,36,e.W1O),e.YNc(60,W,76,40,"ng-template",null,37,e.W1O),e.YNc(62,X,12,0,"ng-template",null,38,e.W1O)}2&n&&(e.Q6J("title","Facilitadores")("items",e.DdM(16,R))("active_item","Facilitadores"),e.xp6(22),e.Q6J("ngModel",r.searchTerm),e.xp6(24),e.Q6J("ngForOf",e.lcZ(47,12,r.tableItem$)),e.xp6(3),e.Q6J("ngModel",r.service.pageSize),e.xp6(1),e.Q6J("ngValue",2),e.xp6(2),e.Q6J("ngValue",4),e.xp6(2),e.Q6J("ngValue",6),e.xp6(2),e.Q6J("collectionSize",e.lcZ(57,14,r.total$))("page",r.service.page)("pageSize",r.service.pageSize))},dependencies:[g.mk,g.sg,g.O5,d._Y,d.YN,d.Kr,d.Fj,d.wV,d.EJ,d.JJ,d.JL,d.Q7,d.On,d.F,u.N9,u._h,y.L,Z.j,g.Ov],styles:['@charset "UTF-8";.action-icons[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0;display:flex;justify-content:center;align-items:center;gap:15px}.red-asterisk[_ngcontent-%COMP%]{color:red}.action-icons[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.action-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;cursor:pointer}.icon-circle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:35px;height:35px;border-radius:50%;transition:all .3s ease}.icon-circle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#000;font-size:18px;display:flex;align-items:center;justify-content:center}.edit[_ngcontent-%COMP%]   .icon-circle[_ngcontent-%COMP%]{background-color:#ffeeba}.delete[_ngcontent-%COMP%]   .icon-circle[_ngcontent-%COMP%]{background-color:#f8d7da}.status[_ngcontent-%COMP%]   .icon-circle[_ngcontent-%COMP%]{background-color:#d4edda}.download[_ngcontent-%COMP%]   .icon-circle[_ngcontent-%COMP%]{background-color:#ffc977}.action-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   .icon-circle[_ngcontent-%COMP%]{transform:scale(1.1);box-shadow:0 0 10px #0000001a}li.status[_ngcontent-%COMP%]:last-child   .icon-circle[_ngcontent-%COMP%]{background-color:#cce5ff}td[_ngcontent-%COMP%]{padding:10px;text-align:center}.action[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}']})}return o})(),re=(()=>{class o{constructor(t){this.pipe=t,this._loading$=new C.X(!0),this._search$=new q.x,this._tableItem$=new C.X([]),this._total$=new C.X(0),this.userData=[],this._state={page:1,pageSize:4,searchTerm:"",sortColumn:"",sortDirection:""},this._search$.pipe((0,T.b)(()=>this._loading$.next(!0)),(0,J.b)(200),(0,U.w)(()=>this._search()),(0,w.g)(200),(0,T.b)(()=>this._loading$.next(!1))).subscribe(n=>{this._tableItem$.next(n.tableItem),this._total$.next(n.total)}),this._search$.next()}get tableItem$(){return this._tableItem$.asObservable()}get total$(){return this._total$.asObservable()}get loading$(){return this._loading$.asObservable()}get page(){return this._state.page}get pageSize(){return this._state.pageSize}get searchTerm(){return this._state.searchTerm}set page(t){this._set({page:t})}set pageSize(t){this._set({pageSize:t})}set sortColumn(t){this._set({sortColumn:t})}set sortDirection(t){this._set({sortDirection:t})}setUserData(t){this.userData=t,this._search$.next()}deleteSingleData(t){const n=this.userData.findIndex(r=>r.id.toString()===t);n>-1&&(this.userData.splice(n,1),this._search$.next())}_set(t){Object.assign(this._state,t),this._search$.next()}set searchTerm(t){this._set({searchTerm:t})}_search(){const{sortColumn:t,sortDirection:n,pageSize:r,page:s,searchTerm:l}=this._state;let i=function oe(o,a,t){return""===t||""===a?o:[...o].sort((n,r)=>{const s=((o,a)=>o<a?-1:o>a?1:0)(n[a],r[a]);return"asc"===t?s:-s})}(this.userData,t,n);i=i.filter(ce=>function ne(o,a,t){return o.nombre.toLowerCase().includes(a.toLowerCase())||o.apellido.toLowerCase().includes(a.toLowerCase())||o.cargo.toLowerCase().includes(a.toLowerCase())||o.correo.toLowerCase().includes(a.toLowerCase())||o.estadoid.nombre.toLowerCase().includes(a.toLowerCase())||t.transform(o.numeroContacto).includes(a)||t.transform(o.estadoid.id).includes(a)}(ce,l,this.pipe));const le=i.length;return i=i.slice((s-1)*r,(s-1)*r+r),(0,N.of)({tableItem:i,total:le})}static#e=this.\u0275fac=function(n){return new(n||o)(e.LFG(g.JJ))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const se=[{path:"",children:[{path:"bootstrap-tables",children:[{path:"basic",component:A.A},{path:"table-components",component:E}]},{path:"",component:ee}]}];let ae=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.oAB({type:o});static#o=this.\u0275inj=e.cJS({imports:[M.Bz.forChild(se),M.Bz]})}return o})(),ie=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.oAB({type:o});static#o=this.\u0275inj=e.cJS({imports:[g.ez,ae,d.u5,m.JF,d.UX,u.IJ,v.m,b.A0]})}return o})()}}]);