"use strict";(self.webpackChunkcuba=self.webpackChunkcuba||[]).push([[4089],{4089:(N,f,a)=>{a.r(f),a.d(f,{CelulasModule:()=>D});var u=a(6814),h=a(965),v=a(6223),x=a(4807),C=a(6208),r=a(9862),Z=a(8468),g=a(6505),T=a(1659),e=a(5879);let j=(()=>{class i{constructor(){this.numbers=[1,2,3,4,5]}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-table-components"]],decls:0,vars:0,template:function(n,o){}})}return i})();function A(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"span",18)(1,"button",19),e.NdJ("click",function(o){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(2).openVerticallyCentered(s.id),e.KtG(o.stopPropagation())}),e._uU(2," Participar "),e.qZA()()}}function y(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"span",18)(1,"button",20),e.NdJ("click",function(o){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(2).deleteJovenCelulas(s.id),e.KtG(o.stopPropagation())}),e._uU(2,"Retirarme"),e.qZA()()}}function I(i,c){1&i&&e._UZ(0,"span",18)}function M(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",13)(1,"a",14),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2),p=e.MAs(7);return e.KtG(l.detallemodal(p,s))}),e.TgZ(2,"div",7)(3,"div",0)(4,"div",8),e._UZ(5,"img",15),e.TgZ(6,"div",9)(7,"h6",10)(8,"a",11),e._uU(9),e.qZA()(),e.YNc(10,A,3,0,"span",16),e.YNc(11,y,3,0,"span",16),e.YNc(12,I,1,0,"span",16),e.TgZ(13,"p")(14,"span"),e._uU(15),e.qZA(),e._UZ(16,"br"),e.TgZ(17,"span"),e._uU(18),e.qZA()()()(),e.TgZ(19,"div",17)(20,"p"),e._uU(21),e.qZA()()()()()()}if(2&i){const t=c.$implicit,n=e.oxw(2);e.xp6(5),e.Q6J("src",t.logo,e.LSH),e.xp6(4),e.Oqu(t.nombre),e.xp6(1),e.Q6J("ngIf",!n.isJovenRegistradoEnCelula(t.id)&&!n.isInscripcionFinalizada(t.inicioInscripcion,t.finInscripcion)),e.xp6(1),e.Q6J("ngIf",n.isJovenRegistradoEnCelula(t.id)),e.xp6(1),e.Q6J("ngIf",!n.isJovenRegistradoEnCelula(t.id)&&n.isInscripcionFinalizada(t.inicioInscripcion,t.finInscripcion)),e.xp6(3),e.hij("Desde: ",t.fechaInicio,""),e.xp6(3),e.hij("Hasta: ",t.fechaFin,""),e.xp6(3),e.Oqu(t.objetivo)}}function q(i,c){if(1&i&&(e.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",0)(4,"div",8)(5,"div",9)(6,"h6",10)(7,"a",11),e._uU(8,"C\xe9lulas"),e.qZA()(),e.TgZ(9,"p"),e._uU(10,"Informaci\xf3n sobre las c\xe9lulas actuales..."),e.qZA()()()()()(),e.YNc(11,M,22,8,"div",12),e.qZA()),2&i){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.celulas)}}function w(i,c){if(1&i&&(e.TgZ(0,"div",28)(1,"div",29)(2,"div",0)(3,"h5",30),e._uU(4,"Descripci\xf3n de la Celula"),e.qZA(),e.TgZ(5,"p",31),e._uU(6),e.qZA()()(),e.TgZ(7,"div",32)(8,"div",0)(9,"h5",33),e._uU(10,"L\xednea de Tiempo"),e.qZA(),e.TgZ(11,"div",34)(12,"div",35),e._UZ(13,"div",36),e.TgZ(14,"div",37)(15,"h6",38),e._uU(16,"Per\xedodo de Inscripci\xf3n"),e.qZA(),e.TgZ(17,"div",39)(18,"div")(19,"small",40),e._uU(20,"Inicio:"),e.qZA(),e.TgZ(21,"p",41),e._uU(22),e.ALo(23,"date"),e.qZA()(),e.TgZ(24,"div")(25,"small",40),e._uU(26,"Fin:"),e.qZA(),e.TgZ(27,"p",41),e._uU(28),e.ALo(29,"date"),e.qZA()()()()(),e.TgZ(30,"div",35),e._UZ(31,"div",42),e.TgZ(32,"div",37)(33,"h6",43),e._uU(34,"Desarrollo del Reto"),e.qZA(),e.TgZ(35,"div",39)(36,"div")(37,"small",40),e._uU(38,"Inicio:"),e.qZA(),e.TgZ(39,"p",41),e._uU(40),e.ALo(41,"date"),e.qZA()(),e.TgZ(42,"div")(43,"small",40),e._uU(44,"Fin:"),e.qZA(),e.TgZ(45,"p",41),e._uU(46),e.ALo(47,"date"),e.qZA()()()()()(),e.TgZ(48,"div",44)(49,"div",0)(50,"h5",30),e._uU(51,"Detalles Adicionales"),e.qZA(),e.TgZ(52,"div",45)(53,"div",46)(54,"span",40),e._uU(55,"Empresa"),e.qZA(),e.TgZ(56,"span",47),e._uU(57),e.qZA()(),e.TgZ(58,"div",48)(59,"span",49),e._uU(60,"Encargado"),e.qZA(),e.TgZ(61,"span",47),e._uU(62),e.qZA()(),e.TgZ(63,"div",46)(64,"span",40),e._uU(65,"Facilitador"),e.qZA(),e.TgZ(66,"span",47),e._uU(67),e.qZA()()()()()()()()),2&i){const t=e.oxw(2);e.xp6(6),e.Oqu(null==t.detalles?null:t.detalles.objetivo),e.xp6(16),e.Oqu(e.xi3(23,8,null==t.detalles?null:t.detalles.inicioInscripcion,"dd MMM yyyy")),e.xp6(6),e.Oqu(e.xi3(29,11,null==t.detalles?null:t.detalles.finInscripcion,"dd MMM yyyy")),e.xp6(12),e.Oqu(e.xi3(41,14,null==t.detalles?null:t.detalles.fechaInicio,"dd MMM yyyy")),e.xp6(6),e.Oqu(e.xi3(47,17,null==t.detalles?null:t.detalles.fechaFin,"dd MMM yyyy")),e.xp6(11),e.Oqu(t.detalles.empresaid.nombre),e.xp6(5),e.Oqu(t.detalles.encargadoid.nombre+" "+t.detalles.encargadoid.apellido),e.xp6(5),e.Oqu(t.detalles.empleadoid.nombre+" "+t.detalles.empleadoid.apellido)}}function U(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",21)(1,"div",22),e._UZ(2,"i",23),e.TgZ(3,"h4",24),e._uU(4),e.qZA()(),e.TgZ(5,"button",25),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(6,"div",26),e.YNc(7,w,68,20,"div",27),e.qZA()}if(2&i){const t=e.oxw();e.xp6(4),e.Oqu(null==t.detalles?null:t.detalles.nombre),e.xp6(3),e.Q6J("ngIf",t.detalles)}}function E(i,c){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",5)(3,"div",50)(4,"div",7)(5,"div",0)(6,"div",8)(7,"div",9)(8,"h6",10)(9,"a",11),e._uU(10,"C\xe9lulas"),e.qZA()(),e.TgZ(11,"p"),e._uU(12,"A\xfan no hay c\xe9lulas..."),e.qZA()()()()()()()()())}const d=a(3519);let k=(()=>{class i{getRandomLogo(){const t=Math.floor(Math.random()*this.logos.length);return this.logos[t]}constructor(t,n,o,s,l){this.router=t,this.route=n,this.http=o,this.modalService=l,this.apiUrl="https://backend-do1k.onrender.com/celulas",this.token=localStorage.getItem("authToken"),this.joven=localStorage.getItem("correo"),this.errorMessages={},this.logos=["assets/images/job-search/1.jpg","assets/images/job-search/2.jpg","assets/images/job-search/3.jpg","assets/images/job-search/4.jpg","assets/images/job-search/5.jpg","assets/images/job-search/6.jpg"],this.currentImageIndex=0,this.validate=!1,this.tooltipValidation=!1,this.empleados=[],this.encargados=[],this.empresas=[],this.celulas=[],this.jovenes=[],this.inscripcionCelulas=[],this.equiposDelJoven=[],this.retosDelEquipo=[],this.owlcarousel2Options={loop:!0,margin:10,lazyLoad:!0,items:5,nav:!1,responsive:{0:{items:1},576:{items:1},768:{items:2},992:{items:3}}},this.owlcarousel1=[{id:1,img:"assets/images/big-lightgallry/retos-carrusel1.jpg"},{id:2,img:"assets/images/big-lightgallry/retos-carrusel3.jpg"},{id:3,img:"assets/images/big-lightgallry/retos-carrusel3.jpg"},{id:4,img:"assets/images/big-lightgallry/retos-carrusel1.jpg"},{id:5,img:"assets/images/big-lightgallry/retos-carrusel2.jpg"},{id:6,img:"assets/images/big-lightgallry/retos-carrusel3.jpg"},{id:7,img:"assets/images/big-lightgallry/retos-carrusel1.jpg"},{id:8,img:"assets/images/big-lightgallry/retos-carrusel2.jpg"},{id:9,img:"assets/images/big-lightgallry/retos-carrusel3.jpg"},{id:10,img:"assets/images/big-lightgallry/retos-carrusel1.jpg"}],s.backdrop="static",s.keyboard=!1}ngOnInit(){this.getCelulas(),this.getEmpresas(),this.getJovenes(),this.getEquiposDelJoven()}detallemodal(t,n){this.detalles=n,this.modalService.open(t)}getEmpresas(){const t=new r.WM({Authorization:`Bearer ${this.token}`});this.http.get("https://backend-do1k.onrender.com/empresas",{headers:t}).subscribe(n=>{this.empresas=n},n=>{console.error("Error fetching empresas:",n)})}getCelulas(){const t=new r.WM({Authorization:`Bearer ${this.token}`});this.celulas=[],this.http.get(this.apiUrl,{headers:t}).subscribe(n=>{const o=new Date;n.forEach(s=>{if(("En curso"===s.estado||"Por empezar"===s.estado)&&"Abierta"===s.tipo_acceso&&(new Date(s.fechaInicio+"T00:00:00")<=o&&o<=new Date(s.fechaFin+"T00:00:00")||new Date(s.inicioInscripcion+"T00:00:00")<=o&&o<=new Date(s.finInscripcion+"T00:00:00"))){const _=["assets/images/job-search/1.jpg","assets/images/job-search/2.jpg","assets/images/job-search/3.jpg","assets/images/job-search/4.jpg","assets/images/job-search/5.jpg","assets/images/job-search/6.jpg"],P=Math.floor(Math.random()*_.length);s.logo=_[P],this.celulas.push(s)}})},n=>{console.error("Error fetching retos:",n)})}getJovenes(){const t=new r.WM({Authorization:`Bearer ${this.token}`});this.http.get("https://backend-do1k.onrender.com/jovenes",{headers:t}).subscribe(n=>{const o=n.find(s=>s.correo===this.joven);o&&(this.jovenesid=o.id)},n=>{})}openVerticallyCentered(t){d.fire({title:"\xbfDeseas inscribirte a la c\xe9lula?",text:"\xa1Est\xe1s a un paso de inscribirte!",icon:"info",showCancelButton:!0,confirmButtonText:"\xa1Inscribirme!",cancelButtonText:"Ahora no"}).then(n=>{if(n.isConfirmed){const o=new r.WM({Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"});this.http.post("https://backend-do1k.onrender.com/inscripcion-celulas",{celulaid:t,jovenid:this.jovenesid,estado:"Inscrito"},{headers:o}).subscribe(s=>{d.fire("Felicidades","\xa1Te has inscrito con \xe9xito!.","success"),this.ngOnInit()},s=>{console.error("Error durante la inscripci\xf3n:",s),d.fire("Error","Hubo un problema al inscribirte. Int\xe9ntalo de nuevo m\xe1s tarde.","error")})}})}getEquiposDelJoven(){const t=new r.WM({Authorization:`Bearer ${this.token}`});this.http.get("https://backend-do1k.onrender.com/inscripcion-celulas",{headers:t}).subscribe(n=>{this.equiposDelJoven=n},n=>{console.error("Error obteniendo equipos del joven:",n)})}deleteJovenCelulas(t){d.fire({title:"\xbfEst\xe1s seguro?",text:"Si la fecha de inscripci\xf3n ya finaliz\xf3, no podr\xe1s inscribirte de nuevo.",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, retirar",cancelButtonText:"Cancelar",reverseButtons:!0}).then(n=>{if(n.isConfirmed){const o=this.equiposDelJoven.find(l=>l.jovenid.id===this.jovenesid&&l.celulaid.id===t),s=new r.WM({Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"});this.http.delete(`https://backend-do1k.onrender.com/inscripcion-celulas/${o.id}`,{headers:s}).subscribe(()=>{d.fire("Retirado","Te has retirado de la c\xe9lula con \xe9xito.","success"),this.modalService.dismissAll(),this.ngOnInit()},l=>{d.fire("Error","Error al retirarte de la c\xe9lula.","error"),this.modalService.dismissAll(),this.ngOnInit()})}})}isJovenRegistradoEnCelula(t,n,o){const s=new Date,p=new Date(o+"T00:00:00");return!!this.equiposDelJoven.some(m=>m.jovenid.id===this.jovenesid&&m.celulaid.id===t)||s<=p}isInscripcionFinalizada(t,n){return new Date>=new Date(n+"T23:59:59")}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(g.F0),e.Y36(g.gz),e.Y36(r.eN),e.Y36(h.NM),e.Y36(h.FF))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-celulas"]],decls:10,vars:2,consts:[[1,"card-body"],[1,"col-xl-12","xl-80","order-xl-0","order-1","box-col-12"],["class","row d-flex justify-content-center",4,"ngIf","ngIfElse"],["detalle",""],["noCelulas",""],[1,"row","d-flex","justify-content-center"],[1,"card","col-md-10","mb-4","m-2",2,"margin-bottom","30px"],[1,"job-search"],[1,"media"],[1,"media-body"],[1,"f-w-600"],["href","javascript:void(0)"],["class","card col-md-5 mb-4 m-2","style","margin: 15px;",4,"ngFor","ngForOf"],[1,"card","col-md-5","mb-4","m-2",2,"margin","15px"],["href","javascript:void(0)",3,"click"],["alt","Logo",1,"img-40","img-fluid","m-r-20",3,"src"],["class","pull-right",4,"ngIf"],[1,"job-description"],[1,"pull-right"],["type","button",1,"btn","btn-primary",2,"z-index","99",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"modal-header","p-4"],[1,"d-flex","align-items-center"],[1,"fa","fa-trophy","me-2","fs-4"],[1,"modal-title","mb-0"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","p-4"],["class","col-sm-12",4,"ngIf"],[1,"col-sm-12"],[1,"card","mb-4","border-0","bg-light"],[1,"text-primary","mb-3"],[1,"lead"],[1,"card","mb-4","shadow-sm"],[1,"text-primary","mb-4"],[1,"timeline"],[1,"timeline-item"],[1,"timeline-marker","bg-info"],[1,"timeline-content"],[1,"fw-bold","text-info"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-muted"],[1,"mb-0"],[1,"timeline-marker","bg-warning"],[1,"fw-bold","text-warning"],[1,"card","border-0","bg-white"],[1,"list-group","list-group-flush"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",2,"color","black"],[2,"color","black"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"text-muted",2,"color","black"],[1,"card","col-md-10","mb-4",2,"margin-bottom","30px"]],template:function(n,o){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"br")(2,"br"),e.TgZ(3,"div",0)(4,"div",1),e.YNc(5,q,12,1,"div",2),e.qZA()()(),e.YNc(6,U,8,2,"ng-template",null,3,e.W1O),e.YNc(8,E,13,0,"ng-template",null,4,e.W1O)),2&n){const s=e.MAs(9);e.xp6(5),e.Q6J("ngIf",o.celulas.length>0)("ngIfElse",s)}},dependencies:[u.sg,u.O5,u.uU],styles:[".timeline[_ngcontent-%COMP%] {\n  position: relative;\n  padding: 1rem 0;\n}\n\n.timeline[_ngcontent-%COMP%]::before {\n  content: '';\n  position: absolute;\n  left: 0.75rem;\n  top: 0;\n  height: 100%;\n  width: 2px;\n  background: #e9ecef;\n}\n.text-muted[_ngcontent-%COMP%]{\n  color: black !important;\n}\n.timeline-item[_ngcontent-%COMP%] {\n  position: relative;\n  padding-left: 3rem;\n  padding-bottom: 2rem;\n}\n.lead[_ngcontent-%COMP%]{\n  margin: 0;\n  font-size: 1rem;\n}\n.timeline-item[_ngcontent-%COMP%]:last-child {\n  padding-bottom: 0;\n}\n\n.timeline-marker[_ngcontent-%COMP%] {\n  position: absolute;\n  left: 0;\n  width: 1.5rem;\n  height: 1.5rem;\n  border-radius: 50%;\n}\n\n.timeline-content[_ngcontent-%COMP%] {\n  padding: 1.5rem;\n  background: #fff;\n  border-radius: 0.5rem;\n  box-shadow: 0 0.125rem 0.25rem rgba(0,0,0,0.075);\n}\n\n.modal-header[_ngcontent-%COMP%] {\n  border-bottom: none;\n}\n\n.card[_ngcontent-%COMP%] {\n  transition: transform 0.2s;\n}\n\n.card[_ngcontent-%COMP%]:hover {\n  transform: translateY(-2px);\n}"]})}return i})();var F=a(9451);const O=[{path:"",children:[{path:"bootstrap-tables",children:[{path:"basic",component:T.A},{path:"table-components",component:j}]},{path:"owl-carousel",component:F.y},{path:"",component:k}]}];let J=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[g.Bz.forChild(O),g.Bz]})}return i})(),D=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[u.ez,J,v.u5,Z.bB,r.JF,v.UX,h.IJ,C.m,x.A0]})}return i})()}}]);