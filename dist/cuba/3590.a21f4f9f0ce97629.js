"use strict";(self.webpackChunkcuba=self.webpackChunkcuba||[]).push([[3590],{3590:(D,f,a)=>{a.r(f),a.d(f,{CelulasModule:()=>F});var u=a(6814),h=a(965),v=a(6223),x=a(4807),C=a(6208),r=a(9862),T=a(8468),m=a(6505),j=a(1659),e=a(5879);let A=(()=>{class s{constructor(){this.numbers=[1,2,3,4,5]}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["app-table-components"]],decls:0,vars:0,template:function(n,o){}})}return s})();function y(s,d){if(1&s){const t=e.EpF();e.TgZ(0,"div",13)(1,"a",14),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw(2),g=e.MAs(7);return e.KtG(l.detallemodal(g,i))}),e.TgZ(2,"div",7)(3,"div",0)(4,"div",8),e._UZ(5,"img",15),e.TgZ(6,"div",9)(7,"h6",10)(8,"a",11),e._uU(9),e.qZA()(),e.TgZ(10,"p")(11,"span"),e._uU(12),e.qZA(),e._UZ(13,"br"),e.TgZ(14,"span"),e._uU(15),e.qZA()()()(),e.TgZ(16,"div",16)(17,"p"),e._uU(18),e.qZA()()()()()()}if(2&s){const t=d.$implicit;e.xp6(5),e.Q6J("src",t.logo,e.LSH),e.xp6(4),e.Oqu(t.nombre),e.xp6(3),e.hij("Desde: ",t.fechaInicio,""),e.xp6(3),e.hij("Hasta: ",t.fechaFin,""),e.xp6(3),e.Oqu(t.objetivo)}}function _(s,d){if(1&s&&(e.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",0)(4,"div",8)(5,"div",9)(6,"h6",10)(7,"a",11),e._uU(8,"C\xe9lulas"),e.qZA()(),e.TgZ(9,"p"),e._uU(10,"Informaci\xf3n sobre las c\xe9lulas actuales..."),e.qZA()()()()()(),e.YNc(11,y,19,5,"div",12),e.qZA()),2&s){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.celulas)}}function I(s,d){if(1&s&&(e.TgZ(0,"div",24)(1,"div",25)(2,"div",0)(3,"h5",26),e._uU(4,"Descripci\xf3n de la Celula"),e.qZA(),e.TgZ(5,"p",27),e._uU(6),e.qZA()()(),e.TgZ(7,"div",28)(8,"div",0)(9,"h5",29),e._uU(10,"L\xednea de Tiempo"),e.qZA(),e.TgZ(11,"div",30)(12,"div",31),e._UZ(13,"div",32),e.TgZ(14,"div",33)(15,"h6",34),e._uU(16,"Per\xedodo de Inscripci\xf3n"),e.qZA(),e.TgZ(17,"div",35)(18,"div")(19,"small",36),e._uU(20,"Inicio:"),e.qZA(),e.TgZ(21,"p",37),e._uU(22),e.ALo(23,"date"),e.qZA()(),e.TgZ(24,"div")(25,"small",36),e._uU(26,"Fin:"),e.qZA(),e.TgZ(27,"p",37),e._uU(28),e.ALo(29,"date"),e.qZA()()()()(),e.TgZ(30,"div",31),e._UZ(31,"div",38),e.TgZ(32,"div",33)(33,"h6",39),e._uU(34,"Desarrollo del Reto"),e.qZA(),e.TgZ(35,"div",35)(36,"div")(37,"small",36),e._uU(38,"Inicio:"),e.qZA(),e.TgZ(39,"p",37),e._uU(40),e.ALo(41,"date"),e.qZA()(),e.TgZ(42,"div")(43,"small",36),e._uU(44,"Fin:"),e.qZA(),e.TgZ(45,"p",37),e._uU(46),e.ALo(47,"date"),e.qZA()()()()()(),e.TgZ(48,"div",40)(49,"div",0)(50,"h5",26),e._uU(51,"Detalles Adicionales"),e.qZA(),e.TgZ(52,"div",41)(53,"div",42)(54,"span",36),e._uU(55,"Empresa"),e.qZA(),e.TgZ(56,"span",43),e._uU(57),e.qZA()(),e.TgZ(58,"div",44)(59,"span",45),e._uU(60,"Encargado"),e.qZA(),e.TgZ(61,"span",43),e._uU(62),e.qZA()(),e.TgZ(63,"div",42)(64,"span",36),e._uU(65,"Facilitador"),e.qZA(),e.TgZ(66,"span",43),e._uU(67),e.qZA()()()()()()()()),2&s){const t=e.oxw(2);e.xp6(6),e.Oqu(null==t.detalles?null:t.detalles.objetivo),e.xp6(16),e.Oqu(e.xi3(23,8,null==t.detalles?null:t.detalles.inicioInscripcion,"dd MMM yyyy")),e.xp6(6),e.Oqu(e.xi3(29,11,null==t.detalles?null:t.detalles.finInscripcion,"dd MMM yyyy")),e.xp6(12),e.Oqu(e.xi3(41,14,null==t.detalles?null:t.detalles.fechaInicio,"dd MMM yyyy")),e.xp6(6),e.Oqu(e.xi3(47,17,null==t.detalles?null:t.detalles.fechaFin,"dd MMM yyyy")),e.xp6(11),e.Oqu(t.detalles.empresaid.nombre),e.xp6(5),e.Oqu(t.detalles.encargadoid.nombre+" "+t.detalles.encargadoid.apellido),e.xp6(5),e.Oqu(t.detalles.empleadoid.nombre+" "+t.detalles.empleadoid.apellido)}}function M(s,d){if(1&s){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",18),e._UZ(2,"i",19),e.TgZ(3,"h4",20),e._uU(4),e.qZA()(),e.TgZ(5,"button",21),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dismiss("Cross click"))}),e.qZA()(),e.TgZ(6,"div",22),e.YNc(7,I,68,20,"div",23),e.qZA()}if(2&s){const t=e.oxw();e.xp6(4),e.Oqu(null==t.detalles?null:t.detalles.nombre),e.xp6(3),e.Q6J("ngIf",t.detalles)}}function q(s,d){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",0)(6,"div",8)(7,"div",9)(8,"h6",10)(9,"a",11),e._uU(10,"C\xe9lulas"),e.qZA()(),e.TgZ(11,"p"),e._uU(12,"A\xfan no hay c\xe9lulas..."),e.qZA()()()()()()()()())}const c=a(3519);let U=(()=>{class s{getRandomLogo(){const t=Math.floor(Math.random()*this.logos.length);return this.logos[t]}constructor(t,n,o,i,l){this.router=t,this.route=n,this.http=o,this.modalService=l,this.apiUrl="https://backend-do1k.onrender.com/celulas",this.token=localStorage.getItem("authToken"),this.joven=localStorage.getItem("correo"),this.errorMessages={},this.logos=["assets/images/job-search/1.jpg","assets/images/job-search/2.jpg","assets/images/job-search/3.jpg","assets/images/job-search/4.jpg","assets/images/job-search/5.jpg","assets/images/job-search/6.jpg"],this.currentImageIndex=0,this.validate=!1,this.tooltipValidation=!1,this.empleados=[],this.encargados=[],this.empresas=[],this.celulas=[],this.jovenes=[],this.inscripcionCelulas=[],this.equiposDelJoven=[],this.retosDelEquipo=[],this.owlcarousel2Options={loop:!0,margin:10,lazyLoad:!0,items:5,nav:!1,responsive:{0:{items:1},576:{items:1},768:{items:2},992:{items:3}}},this.owlcarousel1=[{id:1,img:"assets/images/big-lightgallry/retos-carrusel1.jpg"},{id:2,img:"assets/images/big-lightgallry/retos-carrusel3.jpg"},{id:3,img:"assets/images/big-lightgallry/retos-carrusel3.jpg"},{id:4,img:"assets/images/big-lightgallry/retos-carrusel1.jpg"},{id:5,img:"assets/images/big-lightgallry/retos-carrusel2.jpg"},{id:6,img:"assets/images/big-lightgallry/retos-carrusel3.jpg"},{id:7,img:"assets/images/big-lightgallry/retos-carrusel1.jpg"},{id:8,img:"assets/images/big-lightgallry/retos-carrusel2.jpg"},{id:9,img:"assets/images/big-lightgallry/retos-carrusel3.jpg"},{id:10,img:"assets/images/big-lightgallry/retos-carrusel1.jpg"}],i.backdrop="static",i.keyboard=!1}ngOnInit(){this.getEmpresas(),this.getJovenes(),this.getEquiposDelJoven()}detallemodal(t,n){this.detalles=n,this.modalService.open(t)}getEmpresas(){const t=new r.WM({Authorization:`Bearer ${this.token}`});this.http.get("https://backend-do1k.onrender.com/empresas",{headers:t}).subscribe(n=>{this.empresas=n},n=>{console.error("Error fetching empresas:",n)})}getCelulas(){const t=new r.WM({Authorization:`Bearer ${this.token}`});this.celulas=[],this.http.get(this.apiUrl,{headers:t}).subscribe(n=>{n.forEach(i=>{if("Finalizada"!==i.estado&&i.empleadoid.id===this.jovenesid){const Z=["assets/images/job-search/1.jpg","assets/images/job-search/2.jpg","assets/images/job-search/3.jpg","assets/images/job-search/4.jpg","assets/images/job-search/5.jpg","assets/images/job-search/6.jpg"],k=Math.floor(Math.random()*Z.length);i.logo=Z[k],this.celulas.push(i)}})},n=>{console.error("Error fetching retos:",n)})}getJovenes(){const t=new r.WM({Authorization:`Bearer ${this.token}`});this.http.get("https://backend-do1k.onrender.com/empleados",{headers:t}).subscribe(n=>{const o=n.find(i=>i.correo===this.joven);o&&(this.jovenesid=o.id,this.getCelulas())},n=>{})}openVerticallyCentered(t){c.fire({title:"\xbfDeseas inscribirte a la c\xe9lula?",text:"\xa1Est\xe1s a un paso de inscribirte!",icon:"info",showCancelButton:!0,confirmButtonText:"\xa1Inscribirme!",cancelButtonText:"Ahora no"}).then(n=>{if(n.isConfirmed){const o=new r.WM({Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"});this.http.post("https://backend-do1k.onrender.com/inscripcion-celulas",{celulaid:t,jovenid:this.jovenesid,estado:"Inscrito"},{headers:o}).subscribe(i=>{c.fire("Felicidades","\xa1Te has inscrito con \xe9xito!.","success"),this.ngOnInit()},i=>{console.error("Error durante la inscripci\xf3n:",i),c.fire("Error","Hubo un problema al inscribirte. Int\xe9ntalo de nuevo m\xe1s tarde.","error")})}})}getEquiposDelJoven(){const t=new r.WM({Authorization:`Bearer ${this.token}`});this.http.get("https://backend-do1k.onrender.com/inscripcion-celulas",{headers:t}).subscribe(n=>{this.equiposDelJoven=n},n=>{console.error("Error obteniendo equipos del joven:",n)})}deleteJovenCelulas(t){c.fire({title:"\xbfEst\xe1s seguro?",text:"Si la fecha de inscripci\xf3n ya finaliz\xf3, no podr\xe1s inscribirte de nuevo.",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, retirar",cancelButtonText:"Cancelar",reverseButtons:!0}).then(n=>{if(n.isConfirmed){const o=this.equiposDelJoven.find(l=>l.jovenid.id===this.jovenesid&&l.celulaid.id===t),i=new r.WM({Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"});this.http.delete(`https://backend-do1k.onrender.com/inscripcion-celulas/${o.id}`,{headers:i}).subscribe(()=>{c.fire("Retirado","Te has retirado de la c\xe9lula con \xe9xito.","success"),this.modalService.dismissAll(),this.ngOnInit()},l=>{c.fire("Error","Error al retirarte de la c\xe9lula.","error"),this.modalService.dismissAll(),this.ngOnInit()})}})}isJovenRegistradoEnCelula(t,n,o){const i=new Date,g=new Date(o+"T00:00:00");return!!this.equiposDelJoven.some(p=>p.jovenid.id===this.jovenesid&&p.celulaid.id===t)||i<=g}isInscripcionFinalizada(t,n){return new Date>=new Date(n+"T23:59:59")}static#e=this.\u0275fac=function(n){return new(n||s)(e.Y36(m.F0),e.Y36(m.gz),e.Y36(r.eN),e.Y36(h.NM),e.Y36(h.FF))};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["app-celulas"]],decls:10,vars:2,consts:[[1,"card-body"],[1,"col-xl-12","xl-80","order-xl-0","order-1","box-col-12"],["class","row d-flex justify-content-center",4,"ngIf","ngIfElse"],["detalle",""],["noCelulas",""],[1,"row","d-flex","justify-content-center"],[1,"card","col-md-10","mb-4",2,"margin-bottom","30px"],[1,"job-search"],[1,"media"],[1,"media-body"],[1,"f-w-600"],["href","javascript:void(0)"],["class","card col-md-5 mb-4","style","margin: 15px;",4,"ngFor","ngForOf"],[1,"card","col-md-5","mb-4",2,"margin","15px"],["href","javascript:void(0)",3,"click"],["alt","Logo",1,"img-40","img-fluid","m-r-20",3,"src"],[1,"job-description"],[1,"modal-header","p-4"],[1,"d-flex","align-items-center"],[1,"fa","fa-trophy","me-2","fs-4"],[1,"modal-title","mb-0"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","p-4"],["class","col-sm-12",4,"ngIf"],[1,"col-sm-12"],[1,"card","mb-4","border-0","bg-light"],[1,"text-primary","mb-3"],[1,"lead"],[1,"card","mb-4","shadow-sm"],[1,"text-primary","mb-4"],[1,"timeline"],[1,"timeline-item"],[1,"timeline-marker","bg-info"],[1,"timeline-content"],[1,"fw-bold","text-info"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-muted"],[1,"mb-0"],[1,"timeline-marker","bg-warning"],[1,"fw-bold","text-warning"],[1,"card","border-0","bg-white"],[1,"list-group","list-group-flush"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",2,"color","black"],[2,"color","black"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"text-muted",2,"color","black"]],template:function(n,o){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"br")(2,"br"),e.TgZ(3,"div",0)(4,"div",1),e.YNc(5,_,12,1,"div",2),e.qZA()()(),e.YNc(6,M,8,2,"ng-template",null,3,e.W1O),e.YNc(8,q,13,0,"ng-template",null,4,e.W1O)),2&n){const i=e.MAs(9);e.xp6(5),e.Q6J("ngIf",o.celulas.length>0)("ngIfElse",i)}},dependencies:[u.sg,u.O5,u.uU],styles:[".timeline[_ngcontent-%COMP%] {\n  position: relative;\n  padding: 1rem 0;\n}\n\n.timeline[_ngcontent-%COMP%]::before {\n  content: '';\n  position: absolute;\n  left: 0.75rem;\n  top: 0;\n  height: 100%;\n  width: 2px;\n  background: #e9ecef;\n}\n.text-muted[_ngcontent-%COMP%]{\n  color: black !important;\n}\n.timeline-item[_ngcontent-%COMP%] {\n  position: relative;\n  padding-left: 3rem;\n  padding-bottom: 2rem;\n}\n.lead[_ngcontent-%COMP%]{\n  margin: 0;\n  font-size: 1rem;\n}\n.timeline-item[_ngcontent-%COMP%]:last-child {\n  padding-bottom: 0;\n}\n\n.timeline-marker[_ngcontent-%COMP%] {\n  position: absolute;\n  left: 0;\n  width: 1.5rem;\n  height: 1.5rem;\n  border-radius: 50%;\n}\n\n.timeline-content[_ngcontent-%COMP%] {\n  padding: 1.5rem;\n  background: #fff;\n  border-radius: 0.5rem;\n  box-shadow: 0 0.125rem 0.25rem rgba(0,0,0,0.075);\n}\n\n.modal-header[_ngcontent-%COMP%] {\n  border-bottom: none;\n}\n\n.card[_ngcontent-%COMP%] {\n  transition: transform 0.2s;\n}\n\n.card[_ngcontent-%COMP%]:hover {\n  transform: translateY(-2px);\n}"]})}return s})();var w=a(9451);const O=[{path:"",children:[{path:"bootstrap-tables",children:[{path:"basic",component:j.A},{path:"table-components",component:A}]},{path:"owl-carousel",component:w.y},{path:"",component:U}]}];let E=(()=>{class s{static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275mod=e.oAB({type:s});static#n=this.\u0275inj=e.cJS({imports:[m.Bz.forChild(O),m.Bz]})}return s})(),F=(()=>{class s{static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275mod=e.oAB({type:s});static#n=this.\u0275inj=e.cJS({imports:[u.ez,E,v.u5,T.bB,r.JF,v.UX,h.IJ,C.m,x.A0]})}return s})()}}]);