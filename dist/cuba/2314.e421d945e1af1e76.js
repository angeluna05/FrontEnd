"use strict";(self.webpackChunkcuba=self.webpackChunkcuba||[]).push([[2314],{2314:(te,C,l)=>{l.r(C),l.d(C,{UsuariosModule:()=>W});var p=l(6814),m=l(965),d=l(6223),Z=l(4807),T=l(6208),b=l(6505),x=l(1659),A=l(186),u=l(9862),M=l(4469),f=l(5619),w=l(8645),J=l(2096),U=l(9397),O=l(3620),q=l(4664),k=l(5177),_=l(1486),e=l(5879),P=l(4414);function y(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"ngb-highlight",35),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"ngb-highlight",35),e.qZA(),e.TgZ(5,"td"),e._UZ(6,"ngb-highlight",35),e.qZA(),e.TgZ(7,"td"),e._UZ(8,"ngb-highlight",35),e.qZA(),e.TgZ(9,"td")(10,"div",36)(11,"ul",7)(12,"li",37)(13,"a",38),e.NdJ("click",function(){const s=e.CHM(t).$implicit,c=e.oxw(),a=e.MAs(55);return e.KtG(c.Editar(a,s))}),e.TgZ(14,"span",10),e._UZ(15,"i",39),e.qZA()()(),e.TgZ(16,"li",40)(17,"a",38),e.NdJ("click",function(){const s=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.withConfirmation(s))}),e.TgZ(18,"span",10),e._UZ(19,"i",41),e.qZA()()()()()()()}if(2&n){const t=i.$implicit,o=e.oxw();e.xp6(2),e.Q6J("result",t.nombre)("term",o.searchTerm),e.xp6(2),e.Q6J("result",t.correo)("term",o.searchTerm),e.xp6(2),e.Q6J("result",t.estadoid.nombre)("term",o.searchTerm),e.xp6(2),e.Q6J("result",t.rolid.nombre)("term",o.searchTerm)}}function N(n,i){if(1&n&&(e.TgZ(0,"div",62),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.errorMessages.nombre," ")}}function $(n,i){if(1&n&&(e.TgZ(0,"div",62),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.errorMessages.correo," ")}}function S(n,i){if(1&n&&(e.TgZ(0,"div",62),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.errorMessages.contrasena," ")}}function Q(n,i){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.Oqu(t.nombre)}}const v=function(n){return{"was-validated":n}},g=function(n){return{"is-invalid":n}};function z(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"h4",43),e._uU(2,"Registrar usuario"),e.qZA(),e.TgZ(3,"button",44),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",45)(5,"div",4)(6,"div",46)(7,"form",47)(8,"div",48)(9,"div",49)(10,"label",50),e._uU(11,"Nombre"),e.TgZ(12,"span",51),e._uU(13,"*"),e.qZA()(),e.TgZ(14,"input",52),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.newUsuario.nombre=r)}),e.qZA(),e.YNc(15,N,2,1,"div",53),e.qZA(),e.TgZ(16,"div",49)(17,"label",54),e._uU(18,"Correo"),e.TgZ(19,"span",51),e._uU(20,"*"),e.qZA()(),e.TgZ(21,"input",55),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.newUsuario.correo=r)}),e.qZA(),e.YNc(22,$,2,1,"div",53),e.qZA()(),e.TgZ(23,"div",48)(24,"div",49)(25,"label",56),e._uU(26,"Contrase\xf1a"),e.TgZ(27,"span",51),e._uU(28,"*"),e.qZA()(),e.TgZ(29,"input",57),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.newUsuario.contrasena=r)}),e.qZA(),e.YNc(30,S,2,1,"div",53),e.qZA(),e.TgZ(31,"div",49)(32,"label",58),e._uU(33,"Rol"),e.TgZ(34,"span",51),e._uU(35,"*"),e.qZA()(),e.TgZ(36,"select",59),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.newUsuario.rolid=r)}),e.TgZ(37,"option",60),e._uU(38,"Escoge una opci\xf3n"),e.qZA(),e.YNc(39,Q,2,2,"option",61),e.qZA(),e.TgZ(40,"div",62),e._uU(41,"Por favor, selecciona un Rol."),e.qZA()()()()()()(),e.TgZ(42,"div",63)(43,"button",64),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Save click"))}),e._uU(44,"Cerrar"),e.qZA(),e.TgZ(45,"button",65),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.createUsuario())}),e._uU(46,"Registrar"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("ngClass",e.VKq(13,v,t.validate)),e.xp6(7),e.Q6J("ngModel",t.newUsuario.nombre)("ngClass",e.VKq(15,g,null==t.errorMessages?null:t.errorMessages.nombre)),e.xp6(1),e.Q6J("ngIf",null==t.errorMessages?null:t.errorMessages.nombre),e.xp6(6),e.Q6J("ngModel",t.newUsuario.correo)("ngClass",e.VKq(17,g,null==t.errorMessages?null:t.errorMessages.correo)),e.xp6(1),e.Q6J("ngIf",null==t.errorMessages?null:t.errorMessages.correo),e.xp6(7),e.Q6J("ngModel",t.newUsuario.contrasena)("ngClass",e.VKq(19,g,null==t.errorMessages?null:t.errorMessages.contrasena)),e.xp6(1),e.Q6J("ngIf",null==t.errorMessages?null:t.errorMessages.contrasena),e.xp6(6),e.Q6J("ngModel",t.newUsuario.rolid)("ngClass",e.VKq(21,g,null==t.errorMessages?null:t.errorMessages.rolid)),e.xp6(3),e.Q6J("ngForOf",t.roles)}}function E(n,i){if(1&n&&(e.TgZ(0,"div",62),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.errorMessages.nombre," ")}}function K(n,i){if(1&n&&(e.TgZ(0,"div",62),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.errorMessages.correo," ")}}function j(n,i){if(1&n&&(e.TgZ(0,"div",62),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.errorMessages.contrasena," ")}}function V(n,i){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.Oqu(t.nombre)}}function F(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"h4",43),e._uU(2,"Editar usuario"),e.qZA(),e.TgZ(3,"button",44),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",45)(5,"div",4)(6,"div",46)(7,"form",47)(8,"div",48)(9,"div",49)(10,"label",66),e._uU(11,"Nombre"),e.TgZ(12,"span",51),e._uU(13,"*"),e.qZA()(),e.TgZ(14,"input",67),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedUsuario.nombre=r)}),e.qZA(),e.YNc(15,E,2,1,"div",53),e.qZA(),e.TgZ(16,"div",49)(17,"label",68),e._uU(18,"Correo"),e.TgZ(19,"span",51),e._uU(20,"*"),e.qZA()(),e.TgZ(21,"input",69),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedUsuario.correo=r)}),e.qZA(),e.YNc(22,K,2,1,"div",53),e.qZA()(),e.TgZ(23,"div",48)(24,"div",49)(25,"label",70),e._uU(26,"Contrase\xf1a"),e.TgZ(27,"span",51),e._uU(28,"*"),e.qZA()(),e.TgZ(29,"input",71),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedUsuario.contrasena=r)}),e.qZA(),e.YNc(30,j,2,1,"div",53),e.qZA(),e.TgZ(31,"div",49)(32,"label",72),e._uU(33,"Rol"),e.TgZ(34,"span",51),e._uU(35,"*"),e.qZA()(),e.TgZ(36,"select",73),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedUsuario.rolid.id=r)}),e.YNc(37,V,2,2,"option",61),e.qZA(),e.TgZ(38,"div",62),e._uU(39,"Por favor, selecciona un rol v\xe1lido."),e.qZA()()()()()()(),e.TgZ(40,"div",63)(41,"button",64),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Save click"))}),e._uU(42,"Cerrar"),e.qZA(),e.TgZ(43,"button",65),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.editUsuario())}),e._uU(44,"Actualizar"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("ngClass",e.VKq(12,v,t.validate)),e.xp6(7),e.Q6J("ngModel",t.selectedUsuario.nombre)("ngClass",e.VKq(14,g,null==t.errorMessages?null:t.errorMessages.nombre)),e.xp6(1),e.Q6J("ngIf",null==t.errorMessages?null:t.errorMessages.nombre),e.xp6(6),e.Q6J("ngModel",t.selectedUsuario.correo)("ngClass",e.VKq(16,g,null==t.errorMessages?null:t.errorMessages.correo)),e.xp6(1),e.Q6J("ngIf",null==t.errorMessages?null:t.errorMessages.correo),e.xp6(7),e.Q6J("ngModel",t.selectedUsuario.contrasena)("ngClass",e.VKq(18,g,null==t.errorMessages?null:t.errorMessages.contrasena)),e.xp6(1),e.Q6J("ngIf",null==t.errorMessages?null:t.errorMessages.contrasena),e.xp6(6),e.Q6J("ngModel",t.selectedUsuario.rolid.id),e.xp6(1),e.Q6J("ngForOf",t.roles)}}const I=function(){return["Apps"]},h=l(3519);let B=(()=>{class n{constructor(t,o,r,s){this.service=t,this.http=o,this.modalService=s,this.apiUrl="https://backend-do1k.onrender.com/usuarios",this.token=localStorage.getItem("authToken"),this.errorMessages={},this.validate=!1,this.tooltipValidation=!1,this.estados=[],this.roles=[],this.usuarios=[],this.newUsuario={id:0,correo:"",nombre:"",contrasena:"",estadoid:{id:1,nombre:""},rolid:{id:1,nombre:""}},this.selectedUsuario={...this.newUsuario},this.searchTerm="",this.tableItem$=t.tableItem$,this.total$=t.total$,r.backdrop="static",r.keyboard=!1}onSort({column:t,direction:o}){this.headers.forEach(r=>{r.sortable!==t&&(r.direction="")}),this.service.sortColumn=t,this.service.sortDirection=o}ngOnInit(){this.getUsuarios(),this.getEstados(),this.getRoles(),this.service.searchTerm=this.searchTerm}download(){const t=new u.WM({Authorization:`Bearer ${this.token}`});this.http.get(this.apiUrl,{headers:t}).subscribe(o=>{const r=_.P6.json_to_sheet(o),s=_.P6.book_new();_.P6.book_append_sheet(s,r,"Usuarios"),_.NC(s,"usuarios.xlsx")},o=>{console.error("Error fetching usuarios:",o)})}getEstados(){const t=new u.WM({Authorization:`Bearer ${this.token}`});this.http.get("https://backend-do1k.onrender.com/estado",{headers:t}).subscribe(o=>{this.estados=o},o=>{console.error("Error fetching estados:",o)})}getRoles(){const t=new u.WM({Authorization:`Bearer ${this.token}`});this.http.get("https://backend-do1k.onrender.com/roles",{headers:t}).subscribe(o=>{this.roles=o},o=>{console.error("Error fetching roles:",o)})}getUsuarios(){const t=new u.WM({Authorization:`Bearer ${this.token}`});this.http.get(this.apiUrl,{headers:t}).subscribe(o=>{this.usuarios=o,this.service.setUserData(o)},o=>{console.error("Error fetching usuarios:",o)})}createUsuario(){this.validate=!this.validate,this.tooltipValidation=!this.tooltipValidation;const t=new u.WM({Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"});this.http.post(this.apiUrl,this.newUsuario,{headers:t}).subscribe(()=>{this.validate=!1,this.tooltipValidation=!1,this.errorMessages="",h.fire({icon:"success",title:"\xa1Registro exitoso!",showConfirmButton:!1,timer:1500}),this.getUsuarios(),this.modalService.dismissAll()},o=>{console.error("Error creating usuario:",o),400===o.status&&o.error?this.errorMessages=o.error:(this.errorMessages=o.error,console.error(this.newUsuario))})}editUsuario(){this.validate=!this.validate,this.tooltipValidation=!this.tooltipValidation;const t=new u.WM({Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"});this.http.put(`${this.apiUrl}/${this.selectedUsuario.id}`,this.selectedUsuario,{headers:t}).subscribe(()=>{this.validate=!1,this.tooltipValidation=!1,this.errorMessages="",h.fire({icon:"success",title:"Edici\xf3n exitosa",showConfirmButton:!1,timer:1500}),this.getUsuarios(),this.modalService.dismissAll()},o=>{console.error("Error editing usuario:",o),400===o.status&&o.error?this.errorMessages=o.error:console.error("Error editing usuario:",o)})}deleteData(t){const o=new u.WM({Authorization:`Bearer ${this.token}`});this.http.delete(`${this.apiUrl}/${t}`,{headers:o}).subscribe(()=>{this.getUsuarios()},r=>{console.error("Error deleting usuario:",r)})}onSearchTermChange(){this.service.searchTerm=this.searchTerm}submit(){this.validate=!this.validate}tooltipSubmit(){this.tooltipValidation=!this.tooltipValidation}Crear(t){this.newUsuario={id:0,correo:"",nombre:"",contrasena:"",estadoid:{id:1,nombre:"Activo"},rolid:{id:1,nombre:""}},this.modalService.open(t,{backdropClass:"light-blue-backdrop"})}Editar(t,o){this.selectedUsuario={...o},this.modalService.open(t,{backdropClass:"light-blue-backdrop"})}withConfirmation(t){h.fire({title:"\xbfEst\xe1s seguro?",text:"\xa1No podr\xe1s revertir esto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, cambiar estado",cancelButtonText:"Cancelar"}).then(o=>{o.isConfirmed&&this.toggleEstado(t)})}toggleEstado(t){const o=1===t.estadoid.id?2:1,r=new u.WM({Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"});this.http.put(`${this.apiUrl}/${t.id}/estado`,o,{headers:r}).subscribe(()=>{this.validate=!1,this.tooltipValidation=!1,this.errorMessages="",t.estadoid.id=o,t.estadoid.nombre=1===o?"Activo":"Inactivo",h.fire("\xa1Estado cambiado!",`El usuario ahora est\xe1 ${t.estadoid.nombre.toLowerCase()}.`,"success")},s=>{h.fire("Error","Hubo un problema al cambiar el estado. Por favor, intenta nuevamente.","error")})}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(R),e.Y36(u.eN),e.Y36(m.NM),e.Y36(m.FF))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-usuarios"]],viewQuery:function(o,r){if(1&o&&e.Gf(M.j,5),2&o){let s;e.iGM(s=e.CRH())&&(r.headers=s)}},decls:56,vars:17,consts:[[3,"title","items","active_item"],[1,"container-fluid"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"media-body","text-end"],[1,"action-icons"],[1,"download"],[1,"btn","btn-pill",3,"click"],[1,"icon-circle"],[1,"fa","fa-download"],[1,"card-body","custom-datatable","noscroll"],[1,"custom-datatable","table-responsive"],[1,"file-content"],[1,"card-header"],[1,"media"],["action","#","method","get",1,"form-inline"],[1,"form-group","mb-0","text-end"],[1,"fa","fa-search"],["type","text","placeholder","Buscar...",1,"form-control-plaintext",3,"ngModel","ngModelChange","input"],["type","button",1,"btn","btn-pill","btn-primary",3,"click"],[1,"table"],["scope","col","sortable","nombre",3,"sort"],["scope","col","sortable","correo",3,"sort"],["scope","col","sortable","estadoid.nombre",3,"sort"],["scope","col","sortable","rolid.nombre",3,"sort"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","mt-3"],["name","pageSize",1,"form-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"ms-3",3,"collectionSize","page","pageSize","pageChange"],["createModal",""],["content1",""],[3,"result","term"],[1,"action"],[1,"edit"],[3,"click"],[1,"fa","fa-pencil-square-o"],[1,"status"],[1,"icofont","icofont-retweet"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"card-body"],["novalidate","",1,"needs-validation",3,"ngClass"],[1,"row","g-3"],[1,"col-md-6"],["for","createNombre",1,"form-label"],[1,"red-asterisk"],["id","createNombre","type","text","placeholder","Nombre","name","nombre","required","","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["class","invalid-feedback",4,"ngIf"],["for","createCorreo",1,"form-label"],["id","createCorreo","type","email","placeholder","Correo","name","correo","required","","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["for","createContrasena",1,"form-label"],["id","createContrasena","type","password","placeholder","Contrasena","required","","name","contrasena","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["for","createRol",1,"form-label"],["id","createRol","name","rolid","required","","required","",1,"form-select",3,"ngModel","ngClass","ngModelChange"],["value","","seleted","","disabled",""],[3,"ngValue",4,"ngFor","ngForOf"],[1,"invalid-feedback"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["for","editNombre",1,"form-label"],["id","editNombre","type","text","placeholder","Nombre","name","nombre","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["for","editCorreo",1,"form-label"],["id","editCorreo","type","email","placeholder","Correo","name","correo","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["for","editContrasena",1,"form-label"],["id","editContrasena","type","password","placeholder","Contrasena","name","contrasena","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["for","editRol",1,"form-label"],["id","editRol","name","rolid","required","",1,"form-select",3,"ngModel","ngModelChange"]],template:function(o,r){if(1&o){const s=e.EpF();e._UZ(0,"app-breadcrumb",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5"),e._uU(7,"Usuarios"),e.qZA(),e.TgZ(8,"div",6)(9,"ul",7)(10,"li",8)(11,"a",9),e.NdJ("click",function(){return r.download()}),e.TgZ(12,"span",10),e._UZ(13,"i",11),e.qZA()()()()()(),e.TgZ(14,"div",12)(15,"div",13)(16,"div",14)(17,"div",15)(18,"div",16)(19,"form",17)(20,"div",18),e._UZ(21,"i",19),e.TgZ(22,"input",20),e.NdJ("ngModelChange",function(a){return r.searchTerm=a})("input",function(){return r.onSearchTermChange()}),e.qZA()()(),e.TgZ(23,"div",6)(24,"button",21),e.NdJ("click",function(){e.CHM(s);const a=e.MAs(53);return e.KtG(r.Crear(a))}),e._uU(25,"Registrar usuario"),e.qZA()()()()(),e.TgZ(26,"table",22)(27,"thead")(28,"tr")(29,"th",23),e.NdJ("sort",function(a){return r.onSort(a)}),e._uU(30,"Nombre"),e.qZA(),e.TgZ(31,"th",24),e.NdJ("sort",function(a){return r.onSort(a)}),e._uU(32,"Correo"),e.qZA(),e.TgZ(33,"th",25),e.NdJ("sort",function(a){return r.onSort(a)}),e._uU(34,"Estado"),e.qZA(),e.TgZ(35,"th",26),e.NdJ("sort",function(a){return r.onSort(a)}),e._uU(36,"Rol"),e.qZA(),e.TgZ(37,"th",27),e._uU(38,"Acciones"),e.qZA()()(),e.TgZ(39,"tbody"),e.YNc(40,y,20,8,"tr",28),e.ALo(41,"async"),e.qZA()(),e.TgZ(42,"div",29)(43,"select",30),e.NdJ("ngModelChange",function(a){return r.service.pageSize=a}),e.TgZ(44,"option",31),e._uU(45,"2 items per page"),e.qZA(),e.TgZ(46,"option",31),e._uU(47,"4 items per page"),e.qZA(),e.TgZ(48,"option",31),e._uU(49,"6 items per page"),e.qZA()(),e.TgZ(50,"ngb-pagination",32),e.NdJ("pageChange",function(a){return r.service.page=a}),e.ALo(51,"async"),e.qZA()()()()()()()(),e.YNc(52,z,47,23,"ng-template",null,33,e.W1O),e.YNc(54,F,45,20,"ng-template",null,34,e.W1O)}2&o&&(e.Q6J("title","usuarios")("items",e.DdM(16,I))("active_item","usuarios"),e.xp6(22),e.Q6J("ngModel",r.searchTerm),e.xp6(18),e.Q6J("ngForOf",e.lcZ(41,12,r.tableItem$)),e.xp6(3),e.Q6J("ngModel",r.service.pageSize),e.xp6(1),e.Q6J("ngValue",2),e.xp6(2),e.Q6J("ngValue",4),e.xp6(2),e.Q6J("ngValue",6),e.xp6(2),e.Q6J("collectionSize",e.lcZ(51,14,r.total$))("page",r.service.page)("pageSize",r.service.pageSize))},dependencies:[p.mk,p.sg,p.O5,d._Y,d.YN,d.Kr,d.Fj,d.EJ,d.JJ,d.JL,d.Q7,d.On,d.F,m.N9,m._h,P.L,M.j,p.Ov],styles:['@charset "UTF-8";.usuario-table[_ngcontent-%COMP%]{width:95%;border-collapse:collapse;margin-top:1rem;font-size:.875rem;color:#333}.usuario-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f8f9fa}.usuario-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.75rem;text-align:left;cursor:pointer;position:relative;font-weight:700;color:#7366ff}.red-asterisk[_ngcontent-%COMP%]{color:red}.usuario-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.usuario-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;border-bottom:1px solid #dee2e6}.usuario-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.icon-arrow[_ngcontent-%COMP%]{margin-left:.5rem;font-size:.75rem}.icon-arrow.active[_ngcontent-%COMP%]{color:#007bff}.icon-arrow.asc[_ngcontent-%COMP%]:before{content:"\\25b2"}.icon-arrow.desc[_ngcontent-%COMP%]:before{content:"\\25bc"}.delete-button[_ngcontent-%COMP%]{background-color:red;color:#fff;border:none;border-radius:.25rem;padding:.375rem .75rem;cursor:pointer;font-size:.875rem;transition:background-color .2s ease}.delete-button[_ngcontent-%COMP%]:hover{background-color:#b30000}.delete-button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 .2rem #ff262680}.edit-button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;border-radius:.25rem;padding:.375rem .75rem;cursor:pointer;font-size:.875rem;transition:background-color .2s ease}.edit-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.delete-button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 .2rem #268fff80}.search-container[_ngcontent-%COMP%]{width:35%;margin:0;border:none;border-radius:9.5rem;overflow:hidden}.search-input[_ngcontent-%COMP%]{width:100%;padding:.5rem;font-size:1rem;border:none;border-radius:.25rem;transition:border-color .2s ease}.search-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none;box-shadow:0 0 0 .2rem #268fff40}.action-icons[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0;display:flex;justify-content:center;align-items:center;gap:15px}.action-icons[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.action-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;cursor:pointer}.icon-circle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:35px;height:35px;border-radius:50%;transition:all .3s ease}.icon-circle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#000;font-size:18px;display:flex;align-items:center;justify-content:center}.edit[_ngcontent-%COMP%]   .icon-circle[_ngcontent-%COMP%]{background-color:#ffeeba}.delete[_ngcontent-%COMP%]   .icon-circle[_ngcontent-%COMP%]{background-color:#f8d7da}.status[_ngcontent-%COMP%]   .icon-circle[_ngcontent-%COMP%]{background-color:#d4edda}.download[_ngcontent-%COMP%]   .icon-circle[_ngcontent-%COMP%]{background-color:#ffc977}.action-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   .icon-circle[_ngcontent-%COMP%]{transform:scale(1.1);box-shadow:0 0 10px #0000001a}li.status[_ngcontent-%COMP%]:last-child   .icon-circle[_ngcontent-%COMP%]{background-color:#cce5ff}td[_ngcontent-%COMP%]{padding:10px;text-align:center}.action[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}']})}return n})(),R=(()=>{class n{constructor(t){this.pipe=t,this._loading$=new f.X(!0),this._search$=new w.x,this._tableItem$=new f.X([]),this._total$=new f.X(0),this.userData=[],this._state={page:1,pageSize:4,searchTerm:"",sortColumn:"",sortDirection:""},this._search$.pipe((0,U.b)(()=>this._loading$.next(!0)),(0,O.b)(200),(0,q.w)(()=>this._search()),(0,k.g)(200),(0,U.b)(()=>this._loading$.next(!1))).subscribe(o=>{this._tableItem$.next(o.tableItem),this._total$.next(o.total)}),this._search$.next()}get tableItem$(){return this._tableItem$.asObservable()}get total$(){return this._total$.asObservable()}get loading$(){return this._loading$.asObservable()}get page(){return this._state.page}get pageSize(){return this._state.pageSize}get searchTerm(){return this._state.searchTerm}set page(t){this._set({page:t})}set pageSize(t){this._set({pageSize:t})}set sortColumn(t){this._set({sortColumn:t})}set sortDirection(t){this._set({sortDirection:t})}setUserData(t){this.userData=t,this._search$.next()}deleteSingleData(t){const o=this.userData.findIndex(r=>r.id.toString()===t);o>-1&&(this.userData.splice(o,1),this._search$.next())}_set(t){Object.assign(this._state,t),this._search$.next()}set searchTerm(t){this._set({searchTerm:t})}_search(){const{sortColumn:t,sortDirection:o,pageSize:r,page:s,searchTerm:c}=this._state;let a=function H(n,i,t){return""===t||""===i?n:[...n].sort((o,r)=>{const s=((n,i)=>n<i?-1:n>i?1:0)(o[i],r[i]);return"asc"===t?s:-s})}(this.userData,t,o);a=a.filter(ee=>function Y(n,i,t){return n.correo.toLowerCase().includes(i.toLowerCase())||n.nombre.toLowerCase().includes(i.toLowerCase())||n.estadoid.nombre.toLowerCase().includes(i.toLowerCase())||n.rolid.nombre.toLowerCase().includes(i.toLowerCase())||t.transform(n.id).includes(i)||t.transform(n.estadoid.id).includes(i)||t.transform(n.rolid.id).includes(i)}(ee,c,this.pipe));const X=a.length;return a=a.slice((s-1)*r,(s-1)*r+r),(0,J.of)({tableItem:a,total:X})}static#e=this.\u0275fac=function(o){return new(o||n)(e.LFG(p.JJ))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const D=[{path:"",children:[{path:"bootstrap-tables",children:[{path:"basic",component:x.A},{path:"table-components",component:A.b}]},{path:"",component:B}]}];let L=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[b.Bz.forChild(D),b.Bz]})}return n})(),W=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[p.ez,L,Z.A0,d.u5,m.IJ,T.m]})}return n})()}}]);